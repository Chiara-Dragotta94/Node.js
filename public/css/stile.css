/* 
  MeditActive - Foglio di stile principale
  Mi sono ispirato allo stile di Headspace: colori morbidi e calmanti,
  forme arrotondate e transizioni fluide per un'esperienza rilassante.
*/

/* ===== Variabili CSS ===== */
:root {
  /* Colori primari - ispirati a Headspace */
  --primary: #FF8C42;
  --primary-light: #FFB380;
  --primary-dark: #E67330;
  
  /* Colori secondari */
  --secondary: #5A9E94;
  --secondary-light: #7EBBB2;
  --secondary-dark: #458177;
  
  /* Colori d'accento */
  --accent-blue: #6B9AC4;
  --accent-purple: #9B8DC4;
  --accent-pink: #E8A4C4;
  --accent-yellow: #F9D56E;
  
  /* Colori neutri */
  --white: #FFFFFF;
  --cream: #FDF8F3;
  --light-gray: #F5F1EB;
  --gray: #E8E4DE;
  --medium-gray: #B8B4AE;
  --dark-gray: #6B6966;
  --charcoal: #3D3A36;
  --black: #1A1817;
  
  /* Colori semantici */
  --success: #6BBF7A;
  --warning: #F9D56E;
  --error: #E57373;
  --info: #6B9AC4;
  
  /* Tipografia */
  --font-primary: 'Segoe UI', system-ui, -apple-system, sans-serif;
  --font-display: 'Segoe UI', Georgia, serif;
  
  /* Spaziature */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;
  
  /* Bordi arrotondati */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 20px;
  --radius-xl: 30px;
  --radius-full: 9999px;
  
  /* Ombre */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.1);
  
  /* Transizioni */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 400ms ease;
}

/* ===== Reset e stili base ===== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
  font-family: var(--font-primary);
  font-size: 16px;
  line-height: 1.6;
  color: var(--charcoal);
  background-color: var(--cream);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

main { flex: 1; }
a { color: var(--primary); text-decoration: none; transition: color var(--transition-fast); }
a:hover { color: var(--primary-dark); }
img { max-width: 100%; height: auto; }

/* ===== Tipografia ===== */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  font-weight: 600;
  line-height: 1.3;
  color: var(--charcoal);
}
h1 { font-size: 2.5rem; }
h2 { font-size: 2rem; }
h3 { font-size: 1.5rem; }
h4 { font-size: 1.25rem; }

@media (max-width: 768px) {
  h1 { font-size: 2rem; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.25rem; }
}

/* ===== Container ===== */
.container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 var(--space-lg); }

/* ===== Bottoni ===== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  font-weight: 500;
  border: none;
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--transition-normal);
  text-decoration: none;
}
.btn-primary {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: var(--white);
  box-shadow: 0 4px 12px rgba(255, 140, 66, 0.3);
}
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(255, 140, 66, 0.4); color: var(--white); }
.btn-outline { background: transparent; color: var(--primary); border: 2px solid var(--primary); }
.btn-outline:hover { background: var(--primary); color: var(--white); }
.btn-secondary { background: var(--secondary); color: var(--white); }
.btn-danger { background: var(--error); color: var(--white); }
.btn-link { background: none; color: var(--primary); padding: var(--space-sm); }
.btn-lg { padding: 1rem 2rem; font-size: 1.125rem; }
.btn-sm { padding: 0.5rem 1rem; font-size: 0.875rem; }
.btn-block { width: 100%; }
.btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
.btn-icon-only { background: none; border: none; cursor: pointer; font-size: 1.25rem; padding: var(--space-sm); transition: transform var(--transition-fast); }
.btn-icon-only:hover { transform: scale(1.1); }

/* ===== Card ===== */
.card { background: var(--white); border-radius: var(--radius-lg); padding: var(--space-xl); box-shadow: var(--shadow-sm); transition: box-shadow var(--transition-normal); }
.card:hover { box-shadow: var(--shadow-md); }

/* ===== Form ===== */
.form-group { margin-bottom: var(--space-lg); }
.form-group label { display: block; margin-bottom: var(--space-sm); font-weight: 500; color: var(--charcoal); }
.form-group input, .form-group textarea, .form-group select {
  width: 100%; padding: 0.875rem 1rem; font-size: 1rem;
  border: 2px solid var(--gray); border-radius: var(--radius-md);
  background: var(--white); transition: all var(--transition-fast);
}
.form-group input:focus, .form-group textarea:focus, .form-group select:focus {
  outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(255, 140, 66, 0.15);
}
.form-group input::placeholder, .form-group textarea::placeholder { color: var(--medium-gray); }
.form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); }
.form-hint { font-size: 0.875rem; color: var(--dark-gray); margin-bottom: var(--space-md); }
.form-divider { border: none; border-top: 1px solid var(--gray); margin: var(--space-xl) 0; }
.checkbox-group label { display: flex; align-items: center; gap: var(--space-sm); cursor: pointer; }
.checkbox-group input[type="checkbox"] { width: auto; }

/* ===== Avvisi ===== */
.alert { display: flex; align-items: flex-start; gap: var(--space-md); padding: var(--space-md) var(--space-3xl) var(--space-md) var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); position: relative; }
.alert-success { background: #E8F5E9; color: #2E7D32; border-left: 4px solid var(--success); }
.alert-error { background: #FFEBEE; color: #C62828; border-left: 4px solid var(--error); }
.alert-icon { font-weight: bold; font-size: 1.25rem; }
.alert-close { position: absolute; right: var(--space-md); top: 50%; transform: translateY(-50%); background: none; border: none; font-size: 1.5rem; cursor: pointer; opacity: 0.5; }
.alert-close:hover { opacity: 1; }
.alert-list { list-style: none; margin: 0; padding: 0; }

/* ===== Badge ===== */
.badge { display: inline-block; padding: 0.25rem 0.75rem; font-size: 0.75rem; font-weight: 600; border-radius: var(--radius-full); text-transform: uppercase; }
.badge-daily { background: var(--accent-yellow); color: var(--charcoal); }
.badge-monthly { background: var(--accent-blue); color: var(--white); }
.badge-yearly { background: var(--accent-purple); color: var(--white); }

/* ===== Barra di progresso ===== */
.progress-bar { height: 8px; background: var(--gray); border-radius: var(--radius-full); overflow: hidden; }
.progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); border-radius: var(--radius-full); transition: width var(--transition-slow); }

/* ===== Navbar ===== */
.navbar { background: var(--white); padding: var(--space-md) 0; box-shadow: var(--shadow-sm); position: sticky; top: 0; z-index: 1000; }
.nav-container { max-width: 1200px; margin: 0 auto; padding: 0 var(--space-lg); display: flex; align-items: center; justify-content: space-between; }
.nav-logo { display: flex; align-items: center; gap: var(--space-sm); font-size: 1.5rem; font-weight: 700; color: var(--charcoal); }
.nav-logo:hover { color: var(--primary); }
.logo-icon { font-size: 2rem; }
.nav-menu { display: flex; align-items: center; gap: var(--space-md); list-style: none; }
.nav-link { padding: var(--space-sm) var(--space-md); color: var(--dark-gray); font-weight: 500; border-radius: var(--radius-md); transition: all var(--transition-fast); }
.nav-link:hover { color: var(--primary); background: var(--light-gray); }
.nav-btn { background: var(--primary); color: var(--white) !important; padding: var(--space-sm) var(--space-lg); border-radius: var(--radius-full); }
.nav-btn:hover { background: var(--primary-dark); color: var(--white); }
.nav-btn-outline { border: 2px solid var(--primary); color: var(--primary) !important; padding: calc(var(--space-sm) - 2px) var(--space-lg); border-radius: var(--radius-full); }
.nav-btn-outline:hover { background: var(--primary); color: var(--white) !important; }
.user-link { display: flex; align-items: center; gap: var(--space-sm); }
.user-avatar { width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: var(--white); display: flex; align-items: center; justify-content: center; font-weight: 600; }
.user-coins { font-size: 0.875rem; color: var(--charcoal); }
.nav-toggle { display: none; flex-direction: column; gap: 5px; background: none; border: none; cursor: pointer; padding: var(--space-sm); }
.nav-toggle span { width: 24px; height: 2px; background: var(--charcoal); border-radius: 2px; transition: var(--transition-fast); }

@media (max-width: 900px) {
  .nav-toggle { display: flex; }
  .nav-menu { position: fixed; top: 70px; left: 0; right: 0; background: var(--white); flex-direction: column; padding: var(--space-lg); box-shadow: var(--shadow-lg); transform: translateY(-100%); opacity: 0; visibility: hidden; transition: all var(--transition-normal); }
  .nav-menu.active { transform: translateY(0); opacity: 1; visibility: visible; }
  .nav-menu li { width: 100%; }
  .nav-link { display: block; padding: var(--space-md); text-align: center; }
}

/* ===== Footer ===== */
.footer { background: var(--charcoal); color: var(--white); padding: var(--space-3xl) 0 var(--space-xl); margin-top: auto; }
.footer-container { max-width: 1200px; margin: 0 auto; padding: 0 var(--space-lg); }
.footer-main { display: grid; grid-template-columns: 1fr 2fr; gap: var(--space-3xl); padding-bottom: var(--space-2xl); border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
.footer-brand { max-width: 300px; }
.footer-logo { display: flex; align-items: center; gap: var(--space-sm); font-size: 1.5rem; font-weight: 700; color: var(--white); margin-bottom: var(--space-md); }
.footer-tagline { color: var(--primary-light); font-size: 1.125rem; margin-bottom: var(--space-md); }
.footer-mission { color: rgba(255, 255, 255, 0.7); font-size: 0.875rem; line-height: 1.7; }
.footer-links { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-xl); }
.footer-column h4 { color: var(--white); font-size: 1rem; margin-bottom: var(--space-lg); }
.footer-column ul { list-style: none; }
.footer-column li { margin-bottom: var(--space-sm); }
.footer-column a { color: rgba(255, 255, 255, 0.7); font-size: 0.875rem; transition: color var(--transition-fast); }
.footer-column a:hover { color: var(--primary-light); }
.footer-bottom { padding-top: var(--space-xl); text-align: center; }
.footer-eco { color: var(--secondary-light); margin-bottom: var(--space-sm); }
.footer-copyright { color: rgba(255, 255, 255, 0.5); font-size: 0.875rem; }

@media (max-width: 768px) {
  .footer-main { grid-template-columns: 1fr; gap: var(--space-2xl); }
  .footer-links { grid-template-columns: 1fr 1fr; }
}

/* ===== Sezione Hero ===== */
.hero { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-3xl); align-items: center; min-height: calc(100vh - 80px); padding: var(--space-3xl) var(--space-lg); max-width: 1200px; margin: 0 auto; }
.hero-title { font-size: 3.5rem; margin-bottom: var(--space-lg); line-height: 1.2; }
.hero-title .highlight { color: var(--primary); position: relative; }
.hero-subtitle { font-size: 1.25rem; color: var(--dark-gray); margin-bottom: var(--space-xl); max-width: 500px; }
.hero-cta { display: flex; gap: var(--space-md); margin-bottom: var(--space-2xl); flex-wrap: wrap; }
.hero-stats { display: flex; gap: var(--space-2xl); }
.stat { display: flex; flex-direction: column; }
.stat-number { font-size: 2rem; font-weight: 700; color: var(--primary); }
.stat-label { font-size: 0.875rem; color: var(--dark-gray); }
.hero-visual { display: flex; justify-content: center; align-items: center; }

.meditation-circle { position: relative; width: 350px; height: 350px; display: flex; align-items: center; justify-content: center; }
.circle-inner { width: 200px; height: 200px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 50%; display: flex; align-items: center; justify-content: center; z-index: 2; animation: breathe 6s ease-in-out infinite; }
.breathe-text { color: var(--white); font-size: 1.5rem; font-weight: 600; }
.circle-ring { position: absolute; border: 2px solid var(--primary); border-radius: 50%; opacity: 0.3; animation: pulse 3s ease-out infinite; }
.circle-ring:nth-child(2) { width: 250px; height: 250px; }
.ring-2 { width: 300px; height: 300px; animation-delay: 1s; }
.ring-3 { width: 350px; height: 350px; animation-delay: 2s; }

@keyframes breathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
@keyframes pulse { 0% { transform: scale(0.8); opacity: 0.5; } 100% { transform: scale(1.2); opacity: 0; } }

@media (max-width: 900px) {
  .hero { grid-template-columns: 1fr; text-align: center; padding-top: var(--space-2xl); min-height: auto; }
  .hero-title { font-size: 2.5rem; }
  .hero-subtitle { margin-left: auto; margin-right: auto; }
  .hero-cta { justify-content: center; }
  .hero-stats { justify-content: center; }
  .hero-visual { order: -1; }
  .meditation-circle { width: 280px; height: 280px; }
  .circle-inner { width: 160px; height: 160px; }
}

/* ===== Sezione funzionalità ===== */
.features { padding: var(--space-3xl) 0; background: var(--white); }
.section-title { text-align: center; margin-bottom: var(--space-md); }
.section-subtitle { text-align: center; color: var(--dark-gray); margin-bottom: var(--space-2xl); max-width: 600px; margin-left: auto; margin-right: auto; }
.features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-xl); }
.feature-card { background: var(--cream); padding: var(--space-xl); border-radius: var(--radius-lg); text-align: center; transition: transform var(--transition-normal); }
.feature-card:hover { transform: translateY(-5px); }
.feature-icon { font-size: 3rem; margin-bottom: var(--space-md); }
.feature-card h3 { margin-bottom: var(--space-sm); }
.feature-card p { color: var(--dark-gray); }

/* ===== Come funziona ===== */
.how-it-works { padding: var(--space-3xl) 0; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: var(--white); }
.how-it-works .section-title { color: var(--white); }
.steps { display: flex; align-items: center; justify-content: center; gap: var(--space-lg); flex-wrap: wrap; max-width: 1000px; margin: 0 auto; }
.step { text-align: center; padding: var(--space-lg); }
.step-number { width: 60px; height: 60px; background: var(--white); color: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: 700; margin: 0 auto var(--space-md); }
.step h3 { color: var(--white); margin-bottom: var(--space-sm); }
.step p { opacity: 0.9; max-width: 180px; }
.step-arrow { font-size: 2rem; opacity: 0.5; }

@media (max-width: 768px) { .step-arrow { display: none; } .steps { flex-direction: column; } }

/* ===== Testimonianze ===== */
.testimonials { padding: var(--space-3xl) 0; }
.testimonials-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-xl); }
.testimonial-card { background: var(--white); padding: var(--space-xl); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); }
.testimonial-content p { font-size: 1.125rem; font-style: italic; color: var(--charcoal); margin-bottom: var(--space-lg); }
.testimonial-author { display: flex; align-items: center; gap: var(--space-md); }
.author-avatar { width: 50px; height: 50px; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 1.25rem; }
.author-info { display: flex; flex-direction: column; }
.author-name { font-weight: 600; }
.author-detail { font-size: 0.875rem; color: var(--dark-gray); }

/* ===== Sezione CTA ===== */
.cta-section { padding: var(--space-3xl) 0; background: var(--cream); }
.cta-content { text-align: center; max-width: 600px; margin: 0 auto; }
.cta-content h2 { margin-bottom: var(--space-md); }
.cta-content p { color: var(--dark-gray); margin-bottom: var(--space-xl); }

/* ===== Pagine autenticazione ===== */
.auth-page { background: linear-gradient(135deg, var(--cream) 0%, var(--light-gray) 100%); }
.auth-main { display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 160px); padding: var(--space-2xl) var(--space-lg); }
.auth-container { width: 100%; max-width: 480px; }
.auth-card { background: var(--white); border-radius: var(--radius-xl); padding: var(--space-2xl); box-shadow: var(--shadow-lg); }
.auth-header { text-align: center; margin-bottom: var(--space-xl); }
.auth-icon { font-size: 4rem; margin-bottom: var(--space-md); }
.auth-header h1 { margin-bottom: var(--space-sm); }
.auth-header p { color: var(--dark-gray); }
.auth-form { margin-bottom: var(--space-lg); }
.auth-footer { text-align: center; padding-top: var(--space-lg); border-top: 1px solid var(--gray); }
.auth-footer a { font-weight: 600; }
.auth-benefits { margin-top: var(--space-xl); padding: var(--space-lg); background: var(--cream); border-radius: var(--radius-md); }
.auth-benefits h4 { margin-bottom: var(--space-md); font-size: 1rem; }
.auth-benefits ul { list-style: none; }
.auth-benefits li { padding: var(--space-xs) 0; color: var(--dark-gray); }
.auth-quote { margin-top: var(--space-xl); text-align: center; }
.auth-quote blockquote { font-style: italic; color: var(--dark-gray); font-size: 1rem; }

/* ===== Dashboard ===== */
.dashboard { padding: var(--space-2xl) 0; }
.dashboard-welcome { display: flex; justify-content: space-between; align-items: center; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: var(--white); padding: var(--space-2xl); border-radius: var(--radius-xl); margin-bottom: var(--space-2xl); }
.welcome-content h1 { color: var(--white); margin-bottom: var(--space-sm); }
.welcome-content p { opacity: 0.9; }
.welcome-cta .btn { background: var(--white); color: var(--primary); }
.welcome-cta .btn:hover { transform: translateY(-2px); }

@media (max-width: 600px) { .dashboard-welcome { flex-direction: column; text-align: center; gap: var(--space-lg); } }

.dashboard-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl); }
.stat-card { background: var(--white); padding: var(--space-lg); border-radius: var(--radius-lg); display: flex; align-items: center; gap: var(--space-md); box-shadow: var(--shadow-sm); }
.stat-card .stat-icon { font-size: 2.5rem; }
.stat-card .stat-value { font-size: 1.75rem; font-weight: 700; color: var(--charcoal); display: block; }
.stat-card .stat-label { font-size: 0.875rem; color: var(--dark-gray); }
.dashboard-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-xl); margin-bottom: var(--space-2xl); }
@media (max-width: 900px) { .dashboard-grid { grid-template-columns: 1fr; } }

.dashboard-card { background: var(--white); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); overflow: hidden; }
.card-header { display: flex; justify-content: space-between; align-items: center; padding: var(--space-lg); border-bottom: 1px solid var(--gray); }
.card-header h2 { font-size: 1.125rem; margin: 0; }
.card-link { font-size: 0.875rem; font-weight: 500; }
.card-content { padding: var(--space-lg); }
.empty-state { text-align: center; padding: var(--space-xl); color: var(--dark-gray); }
.empty-state p { margin-bottom: var(--space-md); }

/* Obiettivi del giorno */
.goal-interval { margin-bottom: var(--space-lg); }
.goal-interval:last-child { margin-bottom: 0; }
.interval-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm); }
.interval-progress { font-weight: 600; color: var(--primary); }

/* Meditazione rapida */
.meditation-prompt { text-align: center; margin-bottom: var(--space-lg); color: var(--dark-gray); }
.meditation-options { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-md); }
.meditation-option { display: flex; flex-direction: column; align-items: center; padding: var(--space-md); background: var(--cream); border-radius: var(--radius-md); text-decoration: none; color: var(--charcoal); transition: all var(--transition-fast); }
.meditation-option:hover, .meditation-option.active { background: var(--primary); color: var(--white); }
.option-time { font-size: 1.5rem; font-weight: 700; }
.option-label { font-size: 0.75rem; }

/* Anteprima diario */
.diary-list { display: flex; flex-direction: column; gap: var(--space-md); }
.diary-preview { display: flex; gap: var(--space-md); align-items: flex-start; padding: var(--space-md); background: var(--cream); border-radius: var(--radius-md); }
.diary-date { font-weight: 600; color: var(--primary); min-width: 50px; text-align: center; }
.diary-content { flex: 1; }
.diary-content h4 { font-size: 0.9rem; margin-bottom: var(--space-xs); }
.diary-content p { font-size: 0.85rem; color: var(--dark-gray); }
.diary-mood { font-size: 1.5rem; }

/* Anteprima ricompense */
.rewards-info { text-align: center; }
.coins-display { display: flex; flex-direction: column; align-items: center; margin-bottom: var(--space-lg); }
.coins-amount { font-size: 2rem; font-weight: 700; color: var(--primary); }
.coins-label { color: var(--dark-gray); font-size: 0.875rem; }
.rewards-actions { display: flex; gap: var(--space-md); justify-content: center; flex-wrap: wrap; }

/* Suggerimento giornaliero */
.daily-tip { display: flex; gap: var(--space-lg); background: linear-gradient(135deg, var(--accent-yellow), #FDE68A); padding: var(--space-xl); border-radius: var(--radius-lg); }
.tip-icon { font-size: 2.5rem; }
.tip-content h3 { margin-bottom: var(--space-sm); }
.tip-content p { color: var(--charcoal); }

/* ===== Pagina Timer ===== */
.timer-page { background: linear-gradient(180deg, var(--cream) 0%, var(--light-gray) 100%); }
.timer-main { padding: var(--space-2xl) 0; }
.timer-container { max-width: 600px; margin: 0 auto; text-align: center; }
.timer-header { margin-bottom: var(--space-2xl); }
.timer-header h1 { margin-bottom: var(--space-sm); }
.timer-header p { color: var(--dark-gray); }
.timer-display { margin-bottom: var(--space-2xl); }
.timer-circle { position: relative; width: 280px; height: 280px; margin: 0 auto; }
.timer-svg { width: 100%; height: 100%; transform: rotate(-90deg); }
.timer-bg { fill: none; stroke: var(--gray); stroke-width: 8; }
.timer-progress { fill: none; stroke: url(#gradient); stroke-width: 8; stroke-linecap: round; stroke-dasharray: 565.48; stroke-dashoffset: 0; transition: stroke-dashoffset 1s linear; }
.timer-inner { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; }
.timer-time { font-size: 3rem; font-weight: 700; color: var(--charcoal); display: block; }
.timer-status { font-size: 1rem; color: var(--dark-gray); }
.duration-selection { margin-bottom: var(--space-2xl); }
.duration-selection h3 { margin-bottom: var(--space-lg); font-size: 1rem; color: var(--dark-gray); }
.duration-options { display: flex; flex-wrap: wrap; justify-content: center; gap: var(--space-sm); }
.duration-btn { padding: var(--space-sm) var(--space-lg); background: var(--white); border: 2px solid var(--gray); border-radius: var(--radius-full); font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all var(--transition-fast); }
.duration-btn:hover { border-color: var(--primary); color: var(--primary); }
.duration-btn.active { background: var(--primary); border-color: var(--primary); color: var(--white); }
.timer-controls { display: flex; justify-content: center; gap: var(--space-md); margin-bottom: var(--space-2xl); }
.timer-btn { display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-md) var(--space-2xl); border: none; border-radius: var(--radius-full); font-size: 1.125rem; font-weight: 600; cursor: pointer; transition: all var(--transition-normal); }
.timer-start { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: var(--white); box-shadow: 0 4px 20px rgba(255, 140, 66, 0.4); }
.timer-start:hover { transform: scale(1.05); }
.timer-pause { background: var(--secondary); color: var(--white); }
.timer-reset { background: var(--gray); color: var(--charcoal); }
.hidden { display: none !important; }

.sound-options { margin-bottom: var(--space-2xl); }
.sound-options h3 { margin-bottom: var(--space-lg); font-size: 1rem; color: var(--dark-gray); }
.sound-buttons { display: flex; flex-wrap: wrap; justify-content: center; gap: var(--space-md); }
.sound-btn { display: flex; flex-direction: column; align-items: center; gap: var(--space-xs); padding: var(--space-md); background: var(--white); border: 2px solid var(--gray); border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition-fast); min-width: 80px; }
.sound-btn:hover { border-color: var(--primary); }
.sound-btn.active { border-color: var(--primary); background: rgba(255, 140, 66, 0.1); }
.sound-btn span:first-child { font-size: 1.5rem; }
.sound-btn span:last-child { font-size: 0.75rem; color: var(--dark-gray); }

.breathing-guide { margin-bottom: var(--space-2xl); }
.breath-circle { width: 150px; height: 150px; background: linear-gradient(135deg, var(--secondary), var(--secondary-light)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-md); animation: breathe 8s ease-in-out infinite; }
.breath-text { color: var(--white); font-size: 1.25rem; font-weight: 600; }
.breath-instruction { color: var(--dark-gray); }

.timer-modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); display: flex; align-items: center; justify-content: center; z-index: 1000; }
.timer-modal .modal-content { background: var(--white); padding: var(--space-2xl); border-radius: var(--radius-xl); text-align: center; max-width: 400px; width: 90%; }
.modal-icon { font-size: 4rem; margin-bottom: var(--space-md); }
.completion-time { font-size: 1.25rem; margin-bottom: var(--space-sm); }
.completion-coins { color: var(--primary); font-size: 1.5rem; font-weight: 600; margin-bottom: var(--space-xl); }
.completion-actions { display: flex; flex-direction: column; gap: var(--space-md); margin-bottom: var(--space-md); }

.meditation-tips { max-width: 800px; margin: var(--space-3xl) auto 0; }
.meditation-tips h2 { text-align: center; margin-bottom: var(--space-xl); }
.tips-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); }
.tip-card { background: var(--white); padding: var(--space-lg); border-radius: var(--radius-lg); text-align: center; }
.tip-card .tip-icon { font-size: 2rem; margin-bottom: var(--space-sm); }
.tip-card h4 { margin-bottom: var(--space-sm); }
.tip-card p { font-size: 0.875rem; color: var(--dark-gray); }

/* ===== Pagina Obiettivi ===== */
.goals-page, .habits-page, .rewards-page, .diary-page, .profile-page { padding: var(--space-2xl) 0; }
.page-header { text-align: center; margin-bottom: var(--space-2xl); }
.page-header p { color: var(--dark-gray); margin-top: var(--space-sm); }
.section-desc { color: var(--dark-gray); margin-bottom: var(--space-lg); }
.create-interval { margin-bottom: var(--space-2xl); }
.interval-form { margin-top: var(--space-lg); }
.goals-category { margin-bottom: var(--space-2xl); }
.category-title { display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-lg); }
.category-icon { font-size: 1.5rem; }
.goals-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--space-lg); }
.goal-card { background: var(--white); padding: var(--space-lg); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); transition: all var(--transition-normal); }
.goal-card:hover { transform: translateY(-3px); box-shadow: var(--shadow-md); }
.goal-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-sm); }
.goal-header h4 { font-size: 1rem; }
.goal-coins { color: var(--primary); font-weight: 600; font-size: 0.875rem; }
.goal-desc { color: var(--dark-gray); font-size: 0.875rem; margin-bottom: var(--space-md); }
.add-goal-btn { width: 100%; }
.intervals-list, .user-intervals { margin-top: var(--space-xl); }
.interval-card { background: var(--white); padding: var(--space-lg); border-radius: var(--radius-lg); margin-bottom: var(--space-md); box-shadow: var(--shadow-sm); }
.interval-card .interval-header { display: flex; align-items: center; gap: var(--space-md); }
.interval-dates { color: var(--dark-gray); font-size: 0.875rem; flex: 1; }
.delete-interval { opacity: 0.5; }
.delete-interval:hover { opacity: 1; }
.interval-goals { margin-top: var(--space-md); padding-top: var(--space-md); border-top: 1px solid var(--gray); }
.no-goals { color: var(--dark-gray); font-style: italic; }

/* Modale */
.modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000; display: flex; align-items: center; justify-content: center; }
.modal-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); }
.modal-content { position: relative; background: var(--white); padding: var(--space-2xl); border-radius: var(--radius-xl); max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; }
.modal-actions { display: flex; gap: var(--space-md); margin-top: var(--space-lg); }

/* ===== Pagina Abitudini ===== */
.preferences-section { margin-bottom: var(--space-2xl); }
.preferences-form { margin-top: var(--space-lg); }
.habits-tracker { margin-bottom: var(--space-2xl); }
.intervals-tracker { display: flex; flex-direction: column; gap: var(--space-lg); }
.interval-tracker { overflow: hidden; }
.interval-tracker .interval-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg); flex-wrap: wrap; gap: var(--space-md); }
.interval-info { display: flex; align-items: center; gap: var(--space-md); }
.interval-progress-info { text-align: right; }
.interval-progress-info .progress-text { display: block; margin-bottom: var(--space-sm); font-weight: 600; }
.interval-progress-info .progress-bar { width: 150px; }
.goals-checklist { display: flex; flex-direction: column; gap: var(--space-md); }
.goal-item { display: flex; align-items: flex-start; gap: var(--space-md); padding: var(--space-md); background: var(--cream); border-radius: var(--radius-md); transition: all var(--transition-fast); }
.goal-item.completed { opacity: 0.7; background: #E8F5E9; }
.goal-checkbox { position: relative; display: flex; align-items: center; cursor: pointer; }
.goal-checkbox input { position: absolute; opacity: 0; cursor: pointer; }
.checkbox-custom { width: 24px; height: 24px; border: 2px solid var(--gray); border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all var(--transition-fast); }
.goal-checkbox input:checked + .checkbox-custom { background: var(--success); border-color: var(--success); }
.goal-checkbox input:checked + .checkbox-custom::after { content: '✓'; color: var(--white); font-size: 0.875rem; }
.goal-item .goal-info { flex: 1; }
.goal-name { font-size: 1rem; margin-bottom: var(--space-xs); }
.goal-item .goal-desc { margin-bottom: 0; }
.goal-reward { text-align: right; }
.goal-reward .coins { display: block; color: var(--primary); font-weight: 600; }
.completed-badge { display: block; font-size: 0.75rem; color: var(--success); margin-top: var(--space-xs); }

.weekly-overview { margin-bottom: var(--space-2xl); }
.week-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: var(--space-sm); margin-top: var(--space-lg); }
.week-day { text-align: center; padding: var(--space-md); background: var(--cream); border-radius: var(--radius-md); }
.week-day.today { background: var(--primary); color: var(--white); }
.week-day.past { background: #E8F5E9; }
.day-name { display: block; font-weight: 600; margin-bottom: var(--space-sm); }
.day-indicator { font-size: 1.5rem; }
.day-status.completed { color: var(--success); }
.day-status.current { color: var(--white); }
.day-status.future { color: var(--gray); }
.motivation-section { margin-bottom: var(--space-2xl); }
.motivation-card { display: flex; align-items: center; gap: var(--space-xl); background: linear-gradient(135deg, var(--secondary), var(--secondary-light)); color: var(--white); }
.motivation-icon { font-size: 3rem; }
.motivation-content h3 { color: var(--white); margin-bottom: var(--space-sm); }

/* ===== Pagina Ricompense ===== */
.coins-balance { display: flex; justify-content: space-between; align-items: center; background: linear-gradient(135deg, var(--accent-yellow), #FDE68A); margin-bottom: var(--space-2xl); flex-wrap: wrap; gap: var(--space-lg); }
.balance-display { display: flex; align-items: center; gap: var(--space-lg); }
.balance-icon { font-size: 3rem; }
.balance-amount { font-size: 3rem; font-weight: 700; color: var(--charcoal); display: block; }
.balance-label { color: var(--dark-gray); }
.balance-actions { display: flex; gap: var(--space-md); flex-wrap: wrap; }
.impact-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl); }
.available-projects { margin-bottom: var(--space-2xl); }
.projects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--space-lg); margin-top: var(--space-lg); }
.project-card { display: flex; flex-direction: column; }
.project-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-md); }
.project-type { font-size: 0.75rem; font-weight: 600; padding: var(--space-xs) var(--space-sm); border-radius: var(--radius-sm); }
.project-type.tree { background: #E8F5E9; color: #2E7D32; }
.project-type.donation { background: #E3F2FD; color: #1565C0; }
.project-cost { font-weight: 600; color: var(--primary); }
.project-name { margin-bottom: var(--space-sm); }
.project-desc { color: var(--dark-gray); font-size: 0.875rem; flex: 1; margin-bottom: var(--space-lg); }
.how-to-earn { margin-bottom: var(--space-2xl); }
.earn-methods { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); margin-top: var(--space-lg); }
.earn-method { display: flex; align-items: center; gap: var(--space-md); padding: var(--space-md); background: var(--cream); border-radius: var(--radius-md); }
.earn-icon { font-size: 2rem; }
.earn-info h4 { font-size: 0.9rem; margin-bottom: var(--space-xs); }
.earn-info p { font-size: 0.8rem; color: var(--dark-gray); }
.donation-history { margin-bottom: var(--space-2xl); }
.donations-list { display: flex; flex-direction: column; gap: var(--space-md); margin-top: var(--space-lg); }
.donation-item { display: flex; align-items: center; gap: var(--space-md); padding: var(--space-md); }
.donation-icon { font-size: 2rem; }
.donation-info { flex: 1; }
.donation-info h4 { font-size: 1rem; margin-bottom: var(--space-xs); }
.donation-date { font-size: 0.8rem; color: var(--dark-gray); }
.donation-amount { font-weight: 600; color: var(--primary); }
.impact-info { margin-bottom: var(--space-2xl); }
.impact-header { display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md); }
.impact-icon { font-size: 2rem; }
.impact-partners { display: flex; flex-wrap: wrap; gap: var(--space-md); margin-top: var(--space-lg); }
.partner { padding: var(--space-sm) var(--space-md); background: var(--cream); border-radius: var(--radius-full); font-size: 0.875rem; }

/* ===== Pagina Diario ===== */
.new-entry { margin-bottom: var(--space-2xl); }
.diary-form { margin-top: var(--space-lg); }
.mood-selector { display: flex; flex-wrap: wrap; gap: var(--space-sm); }
.mood-option { display: flex; flex-direction: column; align-items: center; gap: var(--space-xs); padding: var(--space-sm) var(--space-md); background: var(--cream); border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition-fast); }
.mood-option:hover { background: var(--gray); }
.mood-option input { display: none; }
.mood-option input:checked + .mood-emoji { transform: scale(1.2); }
.mood-option:has(input:checked) { background: var(--primary); color: var(--white); }
.mood-emoji { font-size: 1.5rem; transition: transform var(--transition-fast); }
.mood-label { font-size: 0.7rem; }
.writing-prompts { margin-bottom: var(--space-2xl); }
.prompts-list { display: flex; flex-wrap: wrap; gap: var(--space-sm); margin-top: var(--space-md); }
.prompt-btn { padding: var(--space-sm) var(--space-md); background: var(--cream); border: none; border-radius: var(--radius-full); cursor: pointer; font-size: 0.875rem; transition: all var(--transition-fast); }
.prompt-btn:hover { background: var(--primary); color: var(--white); }
.diary-entries h2 { margin-bottom: var(--space-lg); }
.entries-list { display: flex; flex-direction: column; gap: var(--space-lg); }
.entry-card { overflow: hidden; }
.entry-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-md); }
.entry-date { display: flex; flex-direction: column; align-items: center; padding: var(--space-md); background: var(--primary); color: var(--white); border-radius: var(--radius-md); min-width: 70px; }
.date-day { font-size: 1.5rem; font-weight: 700; }
.date-month { font-size: 0.75rem; text-transform: uppercase; }
.date-year { font-size: 0.7rem; opacity: 0.8; }
.entry-meta { display: flex; gap: var(--space-md); align-items: center; }
.entry-mood { font-size: 1.5rem; }
.entry-meditation { font-size: 0.875rem; color: var(--secondary); font-weight: 500; }
.entry-content { margin-bottom: var(--space-md); }
.entry-title { margin-bottom: var(--space-sm); }
.entry-text { color: var(--dark-gray); white-space: pre-wrap; }
.entry-actions { display: flex; gap: var(--space-md); padding-top: var(--space-md); border-top: 1px solid var(--gray); }

/* ===== Pagina Profilo ===== */
.profile-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl); }
@media (max-width: 900px) { .profile-grid { grid-template-columns: 1fr; } }
.profile-info { text-align: center; }
.profile-avatar { margin-bottom: var(--space-xl); }
.avatar-circle { width: 100px; height: 100px; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: 700; margin: 0 auto var(--space-lg); }
.avatar-info h2 { margin-bottom: var(--space-sm); }
.avatar-info p { color: var(--dark-gray); margin-bottom: var(--space-sm); }
.member-since { font-size: 0.875rem; color: var(--medium-gray); }
.profile-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-md); margin-bottom: var(--space-xl); }
.profile-stat { padding: var(--space-md); background: var(--cream); border-radius: var(--radius-md); }
.profile-stat .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--primary); display: block; }
.profile-stat .stat-label { font-size: 0.75rem; color: var(--dark-gray); }
.profile-info .coins-display { display: flex; align-items: center; justify-content: center; gap: var(--space-sm); padding: var(--space-md); background: var(--accent-yellow); border-radius: var(--radius-md); }
.profile-info .coins-icon { font-size: 1.5rem; }
.profile-info .coins-amount { font-size: 1.5rem; font-weight: 700; color: var(--charcoal); }
.profile-info .coins-label { color: var(--charcoal); }
.edit-profile { grid-column: 1 / -1; }
@media (min-width: 900px) { .edit-profile { grid-column: 2; grid-row: 1; } }
.achievements { grid-column: 1 / -1; }
.achievements-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: var(--space-md); margin-top: var(--space-lg); }
.achievement { text-align: center; padding: var(--space-lg); background: var(--cream); border-radius: var(--radius-md); transition: all var(--transition-normal); }
.achievement.locked { opacity: 0.5; filter: grayscale(1); }
.achievement.unlocked { background: linear-gradient(135deg, #FFF3E0, #FFE0B2); }
.achievement-icon { font-size: 2rem; display: block; margin-bottom: var(--space-sm); }
.achievement-name { font-weight: 600; font-size: 0.9rem; margin-bottom: var(--space-xs); }
.achievement-desc { font-size: 0.75rem; color: var(--dark-gray); }
.danger-zone { grid-column: 1 / -1; border: 2px solid var(--error); background: #FFF5F5; }
.danger-zone h2 { color: var(--error); }
.danger-zone p { margin-bottom: var(--space-lg); }

/* ===== Pagina errore ===== */
.error-page { background: linear-gradient(135deg, var(--cream), var(--light-gray)); }
.error-main { display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 200px); padding: var(--space-2xl); }
.error-container { text-align: center; max-width: 500px; }
.error-icon { font-size: 5rem; margin-bottom: var(--space-lg); }
.error-container h1 { font-size: 6rem; color: var(--primary); margin-bottom: var(--space-sm); }
.error-container h2 { margin-bottom: var(--space-md); }
.error-container p { color: var(--dark-gray); margin-bottom: var(--space-md); }
.error-quote { font-style: italic; color: var(--secondary); margin-bottom: var(--space-xl); }
.error-actions { display: flex; gap: var(--space-md); justify-content: center; flex-wrap: wrap; }

/* ===== Stato vuoto ===== */
.empty-state .empty-icon { font-size: 4rem; margin-bottom: var(--space-md); }
.empty-state h3 { margin-bottom: var(--space-sm); }

/* ===== Utilità ===== */
.text-center { text-align: center; }
.text-primary { color: var(--primary); }
.mt-lg { margin-top: var(--space-lg); }
.mb-lg { margin-bottom: var(--space-lg); }

/* ===== Animazioni ===== */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.animate-fade { animation: fadeIn 0.3s ease; }
.animate-slide { animation: slideUp 0.4s ease; }
